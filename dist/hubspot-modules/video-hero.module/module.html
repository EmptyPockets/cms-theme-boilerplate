<div class="video-wrapper" id="video-wrapper">
  <!-- Background Video -->
  {# video is appened #}
  <header class="{% if !module.show_subheading %}practice-area-page{% endif %}">
    <h1>{{ module.title }}</h1>
    <div class="play-button-wrapper" id="playButton">
      <svg
        class="play-button"
        xmlns="http://www.w3.org/2000/svg"
        width="75"
        height="75"
        viewBox="0 0 75 75"
      >
        <g
          id="Group_135"
          data-name="Group 135"
          transform="translate(-1113.74 -397.025)"
        >
          <circle
            id="Ellipse_20"
            data-name="Ellipse 20"
            cx="37.5"
            cy="37.5"
            r="37.5"
            transform="translate(1113.74 397.025)"
            fill="#b72f00"
          />
          <path
            id="Path_207"
            data-name="Path 207"
            d="M1142.907,449.525v-30l25,15Z"
            fill="#fff"
          />
        </g>
      </svg>
      {% if module.show_subheading %}
      <p>
        {{ module.subheading }}
        <span>
          {{ module.video_length }} | Play With Sound
        </span>
      </p>
      {% endif %}
    </div>
  </header>
</div>
<!-- The Modal -->
<div
  id="videoModal"
  class="modal"
  role="dialog"
  aria-hidden="true"
  style="display:none"
>
  <!-- Modal content -->
  <div class="modal-content">
    <span id="close-button" class="close">
      <svg>
        <use xlink:href="#close-modal-icon"></use>
      </svg>
    </span>
    <div class="wistia_responsive_padding" style="padding:42.5% 0 0 0;position:relative;">
      <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
        <div class="wistia_embed wistia_async_{{ module.wistia_id }} videoFoam=true" style="height:100%;position:relative;width:100%">
          <div class="wistia_swatch" style="height:100%;left:0;opacity:0;overflow:hidden;position:absolute;top:0;transition:opacity 200ms;width:100%;">
            <img
              src="https://fast.wistia.com/embed/medias/{{ module.wistia_id }}/swatch"
              style="filter:blur(5px);height:100%;object-fit:contain;width:100%;"
              alt=""
              aria-hidden="true"
              onload="this.parentNode.style.opacity=1;"
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  if (window.innerWidth > 700) {
    const wrapper = document.getElementById('video-wrapper');
    const video = document.createElement('video');
    video.autoplay = true;
    video.id = 'videoItem';
    video.loop = true;
    video.preload = 'auto';
    video.defaultMuted = true;
    video.muted = true;
    video.setAttribute('width', '100%');
    video.setAttribute('height', 'auto');
    const mp4Source = document.createElement('source');
    mp4Source.setAttribute('src', '{{ module.video_url }}');
    mp4Source.setAttribute('type', 'video/mp4');
    video.appendChild(mp4Source);
    wrapper.appendChild(video);
    video.autoplay = true;
    video.play();

  }
</script>
